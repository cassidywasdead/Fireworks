<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fireworks</title>
<style>
body {
  margin: 0;
  background: black;
  overflow: hidden;
}

.spark {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  transition: 2s ease-out;
}

#hint {
  position: fixed;
  bottom: 20px;
  width: 100%;
  text-align: center;
  color: white;
  font-family: Arial;
  opacity: 0.6;
}
</style>
</head>

<body>

<div id="hint">Tap once to enable sound ðŸ”Š</div>

<audio id="fireSound" src="firework.mp3"></audio>

<script>
let soundUnlocked = false;

document.body.addEventListener("click", function unlockSound() {
  const sound = document.getElementById("fireSound");
  sound.volume = 1.0;
  sound.play().then(() => {
    sound.pause();
    sound.currentTime = 0;
    soundUnlocked = true;
    document.getElementById("hint").style.display = "none";
  });
  document.body.removeEventListener("click", unlockSound);
});

function blast(x, y) {
  const colors = ["white", "pink", "yellow", "cyan", "orange", "violet", "lime"];

  for (let i = 0; i < 160; i++) {
    const spark = document.createElement("div");
    spark.className = "spark";
    spark.style.left = x + "px";
    spark.style.top = y + "px";

    const color = colors[Math.floor(Math.random() * colors.length)];
    spark.style.background = color;
    spark.style.boxShadow = `0 0 20px ${color}, 0 0 40px ${color}`;

    document.body.appendChild(spark);

    const angle = (i / 160) * Math.PI * 2;
    const distance = 300 + Math.random() * 200;

    setTimeout(() => {
      spark.style.transform =
        `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`;
      spark.style.opacity = 0;
    }, 30);

    setTimeout(() => spark.remove(), 2300);
  }
}

function playSound() {
  if (soundUnlocked) {
    const s1 = document.getElementById("fireSound").cloneNode();
    const s2 = document.getElementById("fireSound").cloneNode();
    s1.volume = 1;
    s2.volume = 0.8;
    s1.play();
    setTimeout(() => s2.play(), 120);
  }
}

function tripleFirework() {
  const w = window.innerWidth;
  const h = window.innerHeight;

  blast(w * 0.3, h * 0.4);
  blast(w * 0.5, h * 0.35);
  blast(w * 0.7, h * 0.4);

  playSound();
}

function startShow() {
  tripleFirework();
  setTimeout(startShow, 2500);
}

startShow();
</script>

</body>
</html>
